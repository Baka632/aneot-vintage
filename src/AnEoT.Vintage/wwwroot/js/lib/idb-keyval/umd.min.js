function _slicedToArray(n,t){return _arrayWithHoles(n)||_iterableToArrayLimit(n,t)||_unsupportedIterableToArray(n,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(n,t){if(n){if("string"==typeof n)return _arrayLikeToArray(n,t);var r={}.toString.call(n).slice(8,-1);return"Map"===(r="Object"===r&&n.constructor?n.constructor.name:r)||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(n,t):void 0}}function _arrayLikeToArray(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}function _iterableToArrayLimit(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,u,i,a=[],c=!0,l=!1;try{if(u=(r=r.call(n)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(e=u.call(r)).done)&&(a.push(e.value),a.length!==t);c=!0);}catch(n){l=!0,o=n}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(n,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).idbKeyval={})}(this,function(n){"use strict";function i(r){return new Promise(function(n,t){r.oncomplete=r.onsuccess=function(){return n(r.result)},r.onabort=r.onerror=function(){return t(r.error)}})}function t(e,o){var u;return function(t,r){return function(){if(u)return u;var n=indexedDB.open(e);return n.onupgradeneeded=function(){return n.result.createObjectStore(o)},(u=i(n)).then(function(n){n.onclose=function(){return u=void 0}},function(){}),u}().then(function(n){return r(n.transaction(o,t).objectStore(o))})}}var r;function u(){return r=r||t("keyval-store","keyval")}function e(n,t){return n.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},i(n.transaction)}n.clear=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:u())("readwrite",function(n){return n.clear(),i(n.transaction)})},n.createStore=t,n.del=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u())("readwrite",function(n){return n.delete(t),i(n.transaction)})},n.delMany=function(n){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u())("readwrite",function(t){return n.forEach(function(n){return t.delete(n)}),i(t.transaction)})},n.entries=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u();return r("readonly",function(n){if(n.getAll&&n.getAllKeys)return Promise.all([i(n.getAllKeys()),i(n.getAll())]).then(function(n){var n=_slicedToArray(n,2),t=n[0],r=n[1];return t.map(function(n,t){return[n,r[t]]})});var t=[];return r("readonly",function(n){return e(n,function(n){t.push([n.key,n.value])}).then(function(){return t})})})},n.get=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u())("readonly",function(n){return i(n.get(t))})},n.getMany=function(n){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u())("readonly",function(t){return Promise.all(n.map(function(n){return i(t.get(n))}))})},n.keys=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:u())("readonly",function(n){if(n.getAllKeys)return i(n.getAllKeys());var t=[];return e(n,function(n){t.push(n.key)}).then(function(){return t})})},n.promisifyRequest=i,n.set=function(t,r){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:u())("readwrite",function(n){return n.put(r,t),i(n.transaction)})},n.setMany=function(n){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u())("readwrite",function(t){return n.forEach(function(n){return t.put(n[1],n[0])}),i(t.transaction)})},n.update=function(e,o){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:u())("readwrite",function(r){return new Promise(function(n,t){r.get(e).onsuccess=function(){try{r.put(o(this.result),e),n(i(r.transaction))}catch(n){t(n)}}})})},n.values=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:u())("readonly",function(n){if(n.getAll)return i(n.getAll());var t=[];return e(n,function(n){t.push(n.value)}).then(function(){return t})})}});